.map-container {
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background: var(--grid);
  overflow: hidden;
  opacity: 0;
  transition: opacity 0.3s ease-out;
  pointer-events: none;
}

.map-container.visible {
  opacity: 1;
  pointer-events: auto;
}

.map-wrapper {
  width: 100%;
  height: 100%;
  transform-origin: center;
  transition: transform 0.3s ease-out;
  position: relative;
  cursor: grab;
}

.map-wrapper.dragging {
  cursor: grabbing;
}

.map-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  user-select: none;
}

#networkSVG {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 20;
  transform-origin: center;
}

#networkSVG line {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: drawLine 1.5s ease-in-out forwards;
}

.data-packet {
  fill: #ff3333;
  filter: drop-shadow(0 0 8px #ff3333) drop-shadow(0 0 4px #cc0000);
}

.points-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

#networkSVG line.closing-line {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: drawLine 1.5s ease-in-out forwards;
}

#networkSVG.network-complete line {
  stroke-dasharray: none !important;
  stroke-dashoffset: 0 !important;
}

#networkSVG.network-complete .data-packet {
  animation: network-packet-pulse 1.5s ease-in-out infinite;
}

@keyframes network-glow-pulse {
  0%,
  100% {
    stroke: #ff3333;
    stroke-width: 3;
    filter: drop-shadow(0 0 8px #ff3333);
  }
  50% {
    stroke: #ffa500;
    stroke-width: 4;
    filter: drop-shadow(0 0 20px #ffa500) drop-shadow(0 0 10px #ff3333);
  }
}

@keyframes network-packet-pulse {
  0%,
  100% {
    r: 4;
    fill: #ff3333;
    filter: drop-shadow(0 0 8px #ff3333) drop-shadow(0 0 4px #cc0000);
  }
  50% {
    r: 6;
    fill: #ffa500;
    filter: drop-shadow(0 0 15px #ffa500) drop-shadow(0 0 10px #ff3333);
  }
}